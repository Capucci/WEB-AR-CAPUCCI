<!DOCTYPE html>
<html>
<head>
   <script>
const VERSION = "4.8.0"; 
// ‚Üë SEMPRE que atualizar modelo ou target,
// s√≥ mude esse n√∫mero
</script>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<script src="https://aframe.io/releases/1.6.0/aframe.min.js"></script>

<!-- NECESS√ÅRIO PARA ANIMA√á√ÉO -->
<script src="https://cdn.jsdelivr.net/npm/aframe-extras@6.1.1/dist/aframe-extras.min.js"></script>

<script src="https://cdn.jsdelivr.net/npm/mind-ar@1.2.5/dist/mindar-image-aframe.prod.js"></script>

<style>
body { margin:0; overflow:hidden; }
button {
  position: fixed;
  bottom: 20px;
  left: 50%;
  transform: translateX(-50%);
  padding: 10px 15px;
  font-size: 16px;
  z-index: 999;
}
</style>

</head>

<body>

<a-scene
  mindar-image="imageTargetSrc: TargetBalboa.mind;"
  vr-mode-ui="enabled: false"
  device-orientation-permission-ui="enabled: false">

  <a-camera position="0 0 0" look-controls="enabled: false"></a-camera>

  <a-entity mindar-image-target="targetIndex: 0" auto-start>

    <!-- MODELO -->
    <a-entity
      id="mascote"
      gltf-model="MascoteMana.glb"
      animation-mixer
      position="0 0 0.3"
      rotation="-90 0 0"
      scale="0.7 0.7 0.7">
    </a-entity>

    <script>
document.addEventListener("DOMContentLoaded", function () {

  const target = document.querySelector('[mindar-image-target]');
  const audio = document.querySelector('#audioMascote');

  let audioUnlocked = false;

  // üîì Desbloqueia o √°udio no primeiro toque
  document.body.addEventListener("click", function unlock() {

    if (audio.components.sound) {
      audio.components.sound.playSound();
      audio.components.sound.stopSound();
      audioUnlocked = true;
    }

    document.body.removeEventListener("click", unlock);
  });

  // ‚ñ∂ Quando reconhecer o target
  target.addEventListener("targetFound", () => {
    if (audioUnlocked && audio.components.sound) {
      audio.components.sound.playSound();
    }
  });

  // ‚èπ Quando perder o target
  target.addEventListener("targetLost", () => {
    if (audio.components.sound) {
      audio.components.sound.stopSound();
    }
  });

});
</script>

</body>
</html>








